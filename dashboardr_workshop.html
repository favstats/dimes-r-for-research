<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>dashboardr Workshop - Day 1</title>
    <meta charset="utf-8" />
    <meta name="author" content="    Fabio Votta    Â favstats    Â @favstats   Â  www.favstats.eu  Â favstats.github.io/dashboardr   2026-01-28" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/htmltools-fill/fill.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <script src="libs/proj4js/proj4.js"></script>
    <link href="libs/highcharts/css/motion.css" rel="stylesheet" />
    <script src="libs/highcharts/highcharts.js"></script>
    <script src="libs/highcharts/highcharts-3d.js"></script>
    <script src="libs/highcharts/highcharts-more.js"></script>
    <script src="libs/highcharts/modules/stock.js"></script>
    <script src="libs/highcharts/modules/map.js"></script>
    <script src="libs/highcharts/modules/data.js"></script>
    <script src="libs/highcharts/modules/exporting.js"></script>
    <script src="libs/highcharts/modules/offline-exporting.js"></script>
    <script src="libs/highcharts/modules/drilldown.js"></script>
    <script src="libs/highcharts/modules/item-series.js"></script>
    <script src="libs/highcharts/modules/overlapping-datalabels.js"></script>
    <script src="libs/highcharts/modules/annotations.js"></script>
    <script src="libs/highcharts/modules/export-data.js"></script>
    <script src="libs/highcharts/modules/funnel.js"></script>
    <script src="libs/highcharts/modules/heatmap.js"></script>
    <script src="libs/highcharts/modules/treemap.js"></script>
    <script src="libs/highcharts/modules/sankey.js"></script>
    <script src="libs/highcharts/modules/dependency-wheel.js"></script>
    <script src="libs/highcharts/modules/organization.js"></script>
    <script src="libs/highcharts/modules/solid-gauge.js"></script>
    <script src="libs/highcharts/modules/streamgraph.js"></script>
    <script src="libs/highcharts/modules/sunburst.js"></script>
    <script src="libs/highcharts/modules/vector.js"></script>
    <script src="libs/highcharts/modules/wordcloud.js"></script>
    <script src="libs/highcharts/modules/xrange.js"></script>
    <script src="libs/highcharts/modules/tilemap.js"></script>
    <script src="libs/highcharts/modules/venn.js"></script>
    <script src="libs/highcharts/modules/gantt.js"></script>
    <script src="libs/highcharts/modules/timeline.js"></script>
    <script src="libs/highcharts/modules/parallel-coordinates.js"></script>
    <script src="libs/highcharts/modules/bullet.js"></script>
    <script src="libs/highcharts/modules/coloraxis.js"></script>
    <script src="libs/highcharts/modules/dumbbell.js"></script>
    <script src="libs/highcharts/modules/lollipop.js"></script>
    <script src="libs/highcharts/modules/series-label.js"></script>
    <script src="libs/highcharts/plugins/motion.js"></script>
    <script src="libs/highcharts/custom/reset.js"></script>
    <script src="libs/highcharts/modules/boost.js"></script>
    <script src="libs/highchart-binding/highchart.js"></script>
    <script src="https://use.fontawesome.com/5235085b15.js"></script>
    <link rel="stylesheet" href="custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# dashboardr Workshop - Day 1
]
.subtitle[
## Building Beautiful Interactive Dashboards in R
]
.author[
### <br><br><br><br>Fabio Votta <br><br> <a href="http://github.com/favstats"><i class="fa fa-github fa-fw"></i>Â favstats</a> <br> <a href="https://twitter.com/favstats"> <i class="fa fa-twitter fa-fw"></i>Â <span class="citation">@favstats</span></a> <br> <a href="http://www.favstats.eu/"><i class="fa fa-address-card"></i>Â  www.favstats.eu</a><br> <a href="https://favstats.github.io/dashboardr/"><i class="fa fa-paper-plane fa-fw"></i>Â favstats.github.io/dashboardr</a> <br><br>2026-01-28
]

---


&lt;style&gt;
.onehundredtwenty {
  font-size: 120%;
}

.ninety {
  font-size: 90%;
}

.eightyfive {
  font-size: 85%;
}
   
.eighty {
  font-size: 80%;
}
   
.seventyfive {
  font-size: 75%;
}
   
.seventy {
  font-size: 70%;
}
   
.sixty {
  font-size: 60%;
}

.fivty {
  font-size: 50%;
}

.small-code .remark-code {
  font-size: 70%;
}

.tiny-code .remark-code {
  font-size: 60%;
}
&lt;/style&gt;



### It gets easier, I promise!

&lt;img src="https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/dbb57803-0c35-4b92-b19f-453d28ef4b20_rw_1920.png?h=8b25ac0adef09e18b3a8d258a7e57b56" alt="" width="50%" style="display: block; margin: auto;" /&gt;

.fivty[Illustration by [Allison Horst](https://twitter.com/allison_horst)]

--

+ My experience: this stuff isn't super easy at first... but it gets better!
+ Great documentation and an active community to help you along!

---

class: inverse, center, middle

# Welcome to dashboardr! 

## From Zero to Published Dashboard

![](https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif)

---

# What We'll Cover Today (Day 1)

.pull-left[
### Part 1: Foundations
- What is dashboardr?
- The "Grammar of Dashboards"
- Core workflow

### Part 2: Visualizations
- All 9 chart types
- Smart defaults &amp; overrides
- Filters, weights, binning
]

.pull-right[
### Part 3: Content &amp; Layout
- Text, callouts, value boxes
- Tabgroups &amp; hierarchies
- Basic inputs overview

### Part 4: Quick Start
- Themes preview
- First dashboard creation
- Q&amp;A
]

--

.center[
.key-point[
**Day 2** covers advanced topics: interactive inputs, deep theming, publishing, and best practices!
]
]

---

class: inverse, center, middle

# Part 1: Foundations
## Understanding dashboardr

---

# What is dashboardr?

### A package for creating **static, interactive dashboards**

.pull-left[
**The Problem:**
- Data to share (surveys, analytics)
- Shiny = server overhead
- Static reports = boring
- Manual HTML = tedious
]

.pull-right[
**The Solution:**
- Quarto-powered dashboards
- **Pre-rendered HTML**
- **Interactive Highcharts**
- **No server required**
]

---

# The Restaurant Analogy

.analogy[
**Shiny** = Full-service restaurant with a chef

*Every order cooked fresh. Unlimited possibilities, but needs constant attention.*

**dashboardr** = Gourmet food truck

*Meals prepared in advance. Served instantly. No kitchen needed on-site.*
]

| Approach | Server Needed | Load Speed | Flexibility |
|----------|---------------|------------|-------------|
| **Shiny** | âœ… Yes, 24/7 | Slower | Unlimited |
| **dashboardr** | âŒ No | Instant | Pre-defined |

---

# When to Use dashboardr

.pull-left[
### âœ… Perfect For:

- ğŸ“Š Survey Results
- ğŸ“ˆ Analytics Reports  
- ğŸ“ Research Presentations
- ğŸ“° Data Journalism
- ğŸ’¼ Client Deliverables
]

.pull-right[
### âŒ Not Ideal For:

- Real-time data streams
- User-specific views
- Complex calculations
- Database writes
]

---

# The Grammar of Dashboards

.center[
### Just as ggplot2 gave us a **grammar of graphics**...
### dashboardr provides a **grammar of dashboards**
]

.diagram[
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DATA  â”‚ + â”‚VISUALIZATIONS â”‚ + â”‚ LAYOUT â”‚ + â”‚ NAVIGATION â”‚ + â”‚ STYLING â”‚ = DASHBOARD
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
]

---

# The LEGO Analogy

.analogy[
Each component is a **brick**. Snap them together to build your dashboard.

- Same bricks â†’ different structures
- Predictable behavior  
- Easy to modify and extend
]

.center[
### ğŸ§± + ğŸ§± + ğŸ§± = ğŸ 
]

---

# The Core Workflow

.center[
## Every dashboard follows **three steps**
]

.diagram[
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: BUILD  â”‚  --&gt;  â”‚ STEP 2: ASSEMBLEâ”‚  --&gt;  â”‚ STEP 3: GENERATEâ”‚
â”‚                 â”‚       â”‚                 â”‚       â”‚                 â”‚
â”‚  create_viz()   â”‚       â”‚ create_dashboardâ”‚       â”‚generate_dashboard
â”‚  add_viz()      â”‚       â”‚ add_page()      â”‚       â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
]

---

# Installation


``` r
# Install pak (package manager)
install.packages("pak")

# Install dashboardr from GitHub
pak::pak("favstats/dashboardr")
```


``` r
# Load packages
library(dashboardr)
library(dplyr)
```

.tip[
Also install Quarto CLI: https://quarto.org/docs/get-started/
]

---

# Verify Installation


``` r
test &lt;- create_dashboard("test", "test_output")
```

.output-box[
Dashboard project initialized at: test_output
]

.note[
If you see this message, you're ready to go!
]

---

# Your First Dashboard in 60 Seconds


``` r
library(dashboardr)

# 1. Create visualizations
viz &lt;- create_viz(type = "histogram") %&gt;%
  add_viz(x_var = "mpg", title = "MPG Distribution")

# 2. Create dashboard
dashboard &lt;- create_dashboard(
  title = "My First Dashboard",
  output_dir = "my_dashboard"
) %&gt;%
  add_page("Analysis", data = mtcars, visualizations = viz)

# 3. Generate!
generate_dashboard(dashboard, render = TRUE, open = "browser")
```

---

# What Just Happened?

.output-box[
Dashboard project initialized at: my_dashboard
Generating page: Analysis
Writing: my_dashboard/analysis.qmd
Rendering dashboard...
âœ“ Dashboard generated successfully!
Opening in browser...
]

.key-point[
With **7 lines of code**, you created a complete interactive dashboard!
]

---

class: inverse, center, middle

# Step 1: Building Visualizations
## The Foundation

---

# The Template Analogy

.analogy[
Think of `create_viz()` as a **document template**:

- Set fonts, colors, margins **once**
- Every new document (`add_viz`) inherits these
- Override specific settings when needed
]

---

# create_viz() + add_viz() Pattern


``` r
# Create a TEMPLATE with defaults
my_viz &lt;- create_viz(
* type = "histogram",
* color_palette = c("#3498DB"),
* bins = 30
)
```


``` r
# Add individual charts (inherit defaults)
my_viz &lt;- my_viz %&gt;%
  add_viz(x_var = "age", title = "Age Distribution") %&gt;%
  add_viz(x_var = "income", title = "Income Distribution") %&gt;%
* add_viz(x_var = "score", title = "Score", bins = 50)  # Override!
```

---

# See the Result: print()


``` r
viz &lt;- create_viz(type = "histogram", color_palette = c("#3498DB")) %&gt;%
  add_viz(x_var = "age", title = "Age", tabgroup = "demo") %&gt;%
  add_viz(x_var = "income", title = "Income", tabgroup = "demo") %&gt;%
  add_viz(x_var = "satisfaction", title = "Satisfaction", tabgroup = "feedback")

print(viz)
```

```
#&gt; -- Content Collection â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#&gt; 3 items | âœ– no data
#&gt; 
#&gt; â¯ [Tab] demo (2 vizs)
#&gt;   â€¢ [Viz] Age (histogram) x=age
#&gt;   â€¢ [Viz] Income (histogram) x=income
#&gt; â¯ [Tab] feedback (1 viz)
#&gt;   â€¢ [Viz] Satisfaction (histogram) x=satisfaction
```

---

# The Output Explained

.output-box[
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•‘ ğŸ“Š VISUALIZATION COLLECTION
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•‘ Total visualizations: 3
â•‘
â•‘ STRUCTURE:
â•‘ â”œâ”€ ğŸ“ demo
â•‘ â”‚  â”œâ”€ ğŸ“‰ HISTOGRAM: Age
â•‘ â”‚  â””â”€ ğŸ“‰ HISTOGRAM: Income
â•‘ â””â”€ ğŸ“ feedback
â•‘    â””â”€ ğŸ“‰ HISTOGRAM: Score
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
]

.key-point[
`print()` is your **debugging superpower**! Always use it to see structure.
]

---

# Understanding Tabgroups

.analogy[
Tabgroups are like **folders** organizing your files (charts).
]


``` r
viz &lt;- create_viz(type = "histogram") %&gt;%
  add_viz(x_var = "age", tabgroup = "demographics") %&gt;%
  add_viz(x_var = "income", tabgroup = "demographics") %&gt;%
  add_viz(x_var = "score", tabgroup = "feedback")
```

.diagram[
ğŸ“‚ Dashboard
â”œâ”€â”€ ğŸ“ demographics (tab)
â”‚   â”œâ”€â”€ ğŸ“Š Age Distribution
â”‚   â””â”€â”€ ğŸ“Š Income Distribution
â””â”€â”€ ğŸ“ feedback (tab)
    â””â”€â”€ ğŸ“Š Score Distribution
]

---

# Nested Tabgroups

.analogy[
Use `/` like **file paths** to create nested folders.
]


``` r
viz &lt;- create_viz(type = "histogram") %&gt;%
* add_viz(x_var = "age", tabgroup = "analysis/demographics/age") %&gt;%
* add_viz(x_var = "income", tabgroup = "analysis/demographics/income") %&gt;%
* add_viz(x_var = "score", tabgroup = "analysis/feedback")
```

---

# Nested Tabgroups: The Output

.output-box[
â•‘ STRUCTURE:
â•‘ â””â”€ ğŸ“ analysis
â•‘    â”œâ”€ ğŸ“ demographics
â•‘    â”‚  â”œâ”€ ğŸ“‰ HISTOGRAM: age
â•‘    â”‚  â””â”€ ğŸ“‰ HISTOGRAM: income
â•‘    â””â”€ ğŸ“ feedback
â•‘       â””â”€ ğŸ“‰ HISTOGRAM: score
]

.diagram[
analysis/demographics/age
   â†“        â†“         â†“
 Level 1  Level 2   Level 3
]

---

# The + Operator

.analogy[
Combine visualization collections like **puzzle pieces**!
]


``` r
# Create separate modules
demographics &lt;- create_viz(type = "histogram") %&gt;%
  add_viz(x_var = "age", tabgroup = "demo", title = "Age")

feedback &lt;- create_viz(type = "bar") %&gt;%
  add_viz(x_var = "rating", tabgroup = "feedback", title = "Ratings")

# Combine them!
*combined &lt;- demographics + feedback
```

---

# Combining: The Output


``` r
demographics &lt;- create_viz(type = "histogram") %&gt;%
  add_viz(x_var = "age", tabgroup = "demo", title = "Age")

feedback &lt;- create_viz(type = "bar") %&gt;%
  add_viz(x_var = "rating", tabgroup = "feedback", title = "Ratings")

combined &lt;- demographics + feedback
print(combined)
```

```
#&gt; -- Content Collection â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#&gt; 2 items | âœ– no data
#&gt; 
#&gt; â¯ [Tab] demo (1 viz)
#&gt;   â€¢ [Viz] Age (histogram) x=age
#&gt; â¯ [Tab] feedback (1 viz)
#&gt;   â€¢ [Viz] Ratings (bar) x=rating
```

---

# Using Filters


``` r
viz &lt;- create_viz(type = "histogram") %&gt;%
  add_viz(
    x_var = "age",
    title = "Wave 1",
*   filter = ~ wave == 1,
*   title_tabset = "Wave 1",
    tabgroup = "comparison"
  ) %&gt;%
  add_viz(
    x_var = "age",
    title = "Wave 2",
*   filter = ~ wave == 2,
*   title_tabset = "Wave 2",
    tabgroup = "comparison"
  )
```

---

# Filter Syntax

.warning[
Always use `~` before the condition! This is formula syntax.
]

.pull-left[
.compare-bad[
```r
filter = wave == 1
# âŒ Missing ~
```
]
]

.pull-right[
.compare-good[
```r
filter = ~ wave == 1
# âœ… Correct!
```
]
]

---

# Filter Examples


``` r
# Single condition
filter = ~ department == "Sales"
filter = ~ age &gt; 30

# Multiple conditions (AND)
filter = ~ department == "Sales" &amp; age &gt; 30

# Multiple values (OR with %in%)
filter = ~ department %in% c("Sales", "Marketing")

# Complex
filter = ~ (age &gt;= 18 &amp; age &lt;= 35) | senior == TRUE
```

---

# Vectorized Creation

### Create many charts at once with `add_vizzes()`


``` r
viz &lt;- create_viz(type = "bar", horizontal = TRUE) %&gt;%
* add_vizzes(
*   x_var = paste0("q", 1:10),        # 10 variables
*   title = paste("Question", 1:10),  # 10 titles
*   .tabgroup_template = "survey/{title}"
* )
```

.output-box[
Creates 10 visualizations with ONE call!
Each gets its own tabgroup: survey/Question 1, survey/Question 2, etc.
]

---

# Vectorized Creation: Details

### Any parameter can be vectorized


``` r
viz &lt;- create_viz(type = "histogram") %&gt;%
  add_vizzes(
    x_var = c("age", "income", "score"),
    title = c("Age Distribution", "Income Distribution", "Score Distribution"),
    bins = c(20, 30, 25),
    color_palette = list(c("#3498DB"), c("#E74C3C"), c("#27AE60"))
  )
```

.tip[
Use `list()` for parameters that are themselves vectors (like `color_palette`).
]

---

# Survey Weights


``` r
# At collection level (applies to all)
viz &lt;- create_viz(
  type = "histogram",
* weight_var = "survey_weight"
) %&gt;%
  add_viz(x_var = "age", title = "Weighted Age")
```

.note[
Counts become weighted counts (sum of weights instead of row count).
]

---

# Custom Tabgroup Labels with Icons


``` r
viz &lt;- create_viz(type = "histogram") %&gt;%
  add_viz(x_var = "age", tabgroup = "demographics") %&gt;%
  add_viz(x_var = "score", tabgroup = "feedback") %&gt;%
* set_tabgroup_labels(list(
*   demographics = "{{&lt; iconify ph:users-fill &gt;}} Demographics",
*   feedback = "{{&lt; iconify ph:heart-fill &gt;}} Feedback"
* ))
```

.tip[
Browse 200,000+ icons: https://icon-sets.iconify.design/
]

---

class: inverse, center, middle

# Visualization Types
## All 9 Chart Types

![](https://media.giphy.com/media/3oKIPnAiaMCws8nOsE/giphy.gif)

---

# Overview: Visualization Types

| Type | Function | Best For |
|------|----------|----------|
| `histogram` | `viz_histogram()` | Distributions |
| `bar` | `viz_bar()` | Categories |
| `stackedbar` | `viz_stackedbar()` | Composition |
| `stackedbars` | `viz_stackedbars()` | Likert questions |
| `timeline` | `viz_timeline()` | Time trends |
| `heatmap` | `viz_heatmap()` | 2D patterns |
| `treemap` | `viz_treemap()` | Hierarchies |
| `scatter` | `viz_scatter()` | Relationships |
| `map` | `viz_map()` | Geographic data |

---

# Common Parameters (All Chart Types)

### Every visualization shares these core parameters:

| Parameter | Purpose | Example |
|-----------|---------|---------|
| `title` | Chart title | `"Age Distribution"` |
| `subtitle` | Secondary title | `"n = 500"` |
| `tabgroup` | Tab organization | `"demographics"` |
| `filter` | Subset data | `~ age &gt; 30` |
| `color_palette` | Custom colors | `c("#3498DB", "#E74C3C")` |
| `drop_na_vars` | Remove NA rows | `TRUE` |
| `weight_var` | Survey weights | `"sample_weight"` |

---

# Key Variables by Chart Type

| Chart Type | Primary Vars | Optional Vars |
|------------|--------------|---------------|
| `histogram` | `x_var` | `bins`, `bin_breaks` |
| `bar` | `x_var` | `group_var`, `horizontal` |
| `stackedbar` | `x_var`, `stack_var` | `stack_breaks` |
| `timeline` | `time_var`, `y_var` | `group_var`, `y_filter` |
| `heatmap` | `x_var`, `y_var`, `value_var` | `agg_fun` |
| `treemap` | `group_var`, `value_var` | `color_var` |
| `scatter` | `x_var`, `y_var` | `color_var`, `size_var` |
| `map` | `location_var`, `value_var` | `map_type` |

.tip[
Each chart type has specific required variables. Check the documentation!
]

---

# Tip: Preview with create_*()


``` r
# Test what it looks like BEFORE adding to dashboard
viz_histogram(
  data = mtcars,
  x_var = "mpg",
  title = "MPG Distribution",
  bins = 15,
  color_palette = c("#3498DB")
)
```

.tip[
Same parameters work in both `viz_histogram()` and `add_viz(type = "histogram")`!
]

---

# Histogram


``` r
create_viz(type = "histogram") %&gt;%
  add_viz(
    x_var = "age",
    title = "Age Distribution",
*   bins = 20,
*   histogram_type = "count",  # or "percent"
    x_label = "Age (years)",
    y_label = "Count"
  )
```

---

# Histogram: Live Preview

<div class="highchart html-widget html-fill-item" id="htmlwidget-ab142785d1c4932b867c" style="width:100%;height:400px;"></div>
<script type="application/json" data-for="htmlwidget-ab142785d1c4932b867c">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Age Distribution"},"yAxis":{"title":{"text":"Count"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"},"column":{"stacking":null,"dataLabels":{"enabled":true,"format":"{y:.0f}","style":{"textOutline":"none"}},"pointPadding":0,"groupPadding":0,"borderWidth":0,"pointWidth":50,"pointPlacement":"on","maxPointWidth":80}},"xAxis":{"categories":["[-5,0)","[0,5)","[5,10)","[10,15)","[15,20)","[20,25)","[25,30)","[30,35)","[35,40)","[40,45)","[45,50)","[50,55)","[55,60)","[60,65)","[65,70)","[70,75)","[75,80)","[80,85)","[85,90]"],"title":{"text":"Age (years)"}},"series":[{"data":[1,2,4,8,15,31,38,50,74,82,52,51,29,38,10,9,4,1,1],"name":"Count","type":"column"}],"tooltip":{"formatter":"function() {\n       // here we pull the label directly\n       var cat = this.point.category;\n       var val = this.y;\n       return '<b>' + cat + '<\/b><br/>' +\n              '' + val + '';\n     }"},"colors":["#6366f1"]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"â— Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":["hc_opts.tooltip.formatter"],"jsHooks":[]}</script>

---

# Histogram: Custom Binning


``` r
add_viz(
  x_var = "age",
  title = "Age Groups",
* bin_breaks = c(18, 30, 45, 60, 75, Inf),
* bin_labels = c("18-29", "30-44", "45-59", "60-74", "75+")
)
```

.warning[
`bin_labels` must have length = `length(bin_breaks) - 1`
]

---

# Bar Chart

.pull-left[
### Vertical

``` r
add_viz(
  type = "bar",
  x_var = "department",
  horizontal = FALSE,
  bar_type = "count"
)
```
]

.pull-right[
### Horizontal (recommended)

``` r
add_viz(
  type = "bar",
  x_var = "department",
* horizontal = TRUE,
* bar_type = "percent"
)
```
]

---

# Bar Chart: Live Preview

<div class="highchart html-widget html-fill-item" id="htmlwidget-77bfcd85b34f9934bd2a" style="width:100%;height:380px;"></div>
<script type="application/json" data-for="htmlwidget-77bfcd85b34f9934bd2a">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"bar"},"title":{"text":"Responses by Department"},"yAxis":{"title":{"text":"Percentage"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"dataLabels":{"enabled":true,"format":"{point.y:.0f}%"}},"treemap":{"layoutAlgorithm":"squarified"}},"xAxis":{"categories":["Engineering","Finance","HR","Marketing","Sales"],"title":{"text":"department"}},"series":[{"data":[19.4,21,21.6,17.8,20.2],"name":"Percentage","showInLegend":false,"colorByPoint":true}],"colors":["#6366f1"],"tooltip":{"formatter":"function() {\n           var cat = this.point.category || this.series.chart.xAxis[0].categories[this.point.x] || this.x;\n           var pct = this.y.toFixed(1);\n           \n           // Try to get raw value if available (for weighted data)\n           var rawVal = this.point.rawValue || this.point.options.rawValue;\n           var tooltipText = '<b>' + cat + '<\/b><br/>';\n           \n           if (rawVal !== undefined && rawVal !== null) {\n             // Show both raw value and percentage\n             tooltipText += '' + rawVal.toLocaleString('en-US', {maximumFractionDigits: 1}) + '<br/>';\n             tooltipText += '<span style=\"color:#666;font-size:0.9em\">' + pct + '% of total<\/span>';\n           } else {\n             // Just show percentage\n             tooltipText += '' + pct + '%' + '';\n           }\n           return tooltipText;\n         }","useHTML":true}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"â— Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":["hc_opts.tooltip.formatter"],"jsHooks":[]}</script>

.tip[
Use horizontal bars when category names are long or you have many categories.
]

---

# Grouped Bar Chart


``` r
add_viz(
  type = "bar",
  x_var = "department",
* group_var = "wave",  # Creates grouped bars
  title = "Department by Wave",
  horizontal = TRUE,
  bar_type = "percent"
)
```

.diagram[
Sales         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  Wave 1
              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  Wave 2

Engineering   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  Wave 1
              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  Wave 2
]

---

# Stacked Bar


``` r
add_viz(
  type = "stackedbar",
* x_var = "department",        # Categories
* stack_var = "satisfaction",  # What to stack
  stacked_type = "percent",
  horizontal = TRUE,
* stack_breaks = c(0.5, 1.5, 2.5, 3.5, 4.5, 5.5),
* stack_bin_labels = c("1", "2", "3", "4", "5"),
  color_palette = c("#E74C3C", "#E67E22", "#F1C40F", "#2ECC71", "#27AE60")
)
```

---

# Stacked Bar: Live Preview

<div class="highchart html-widget html-fill-item" id="htmlwidget-3c82c88b767c3aa2c321" style="width:100%;height:380px;"></div>
<script type="application/json" data-for="htmlwidget-3c82c88b767c3aa2c321">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Satisfaction by Department"},"yAxis":{"title":{"text":"Percentage"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":true},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}},"bar":{"stacking":"percent","dataLabels":{"enabled":true,"format":"{point.percentage:.1f}%","style":{"textOutline":"none","fontSize":"10px"}}}},"series":[{"name":"1","data":[{".x_var_col":"Engineering",".stack_var_col":"1","n":7,"y":7,"name":"Engineering"},{".x_var_col":"Finance",".stack_var_col":"1","n":6,"y":6,"name":"Finance"},{".x_var_col":"HR",".stack_var_col":"1","n":4,"y":4,"name":"HR"},{".x_var_col":"Marketing",".stack_var_col":"1","n":7,"y":7,"name":"Marketing"},{".x_var_col":"Sales",".stack_var_col":"1","n":7,"y":7,"name":"Sales"}],"type":"bar"},{"name":"2","data":[{".x_var_col":"Engineering",".stack_var_col":"2","n":6,"y":6,"name":"Engineering"},{".x_var_col":"Finance",".stack_var_col":"2","n":7,"y":7,"name":"Finance"},{".x_var_col":"HR",".stack_var_col":"2","n":13,"y":13,"name":"HR"},{".x_var_col":"Marketing",".stack_var_col":"2","n":8,"y":8,"name":"Marketing"},{".x_var_col":"Sales",".stack_var_col":"2","n":8,"y":8,"name":"Sales"}],"type":"bar"},{"name":"3","data":[{".x_var_col":"Engineering",".stack_var_col":"3","n":26,"y":26,"name":"Engineering"},{".x_var_col":"Finance",".stack_var_col":"3","n":24,"y":24,"name":"Finance"},{".x_var_col":"HR",".stack_var_col":"3","n":27,"y":27,"name":"HR"},{".x_var_col":"Marketing",".stack_var_col":"3","n":21,"y":21,"name":"Marketing"},{".x_var_col":"Sales",".stack_var_col":"3","n":23,"y":23,"name":"Sales"}],"type":"bar"},{"name":"4","data":[{".x_var_col":"Engineering",".stack_var_col":"4","n":29,"y":29,"name":"Engineering"},{".x_var_col":"Finance",".stack_var_col":"4","n":38,"y":38,"name":"Finance"},{".x_var_col":"HR",".stack_var_col":"4","n":34,"y":34,"name":"HR"},{".x_var_col":"Marketing",".stack_var_col":"4","n":31,"y":31,"name":"Marketing"},{".x_var_col":"Sales",".stack_var_col":"4","n":35,"y":35,"name":"Sales"}],"type":"bar"},{"name":"5","data":[{".x_var_col":"Engineering",".stack_var_col":"5","n":29,"y":29,"name":"Engineering"},{".x_var_col":"Finance",".stack_var_col":"5","n":30,"y":30,"name":"Finance"},{".x_var_col":"HR",".stack_var_col":"5","n":30,"y":30,"name":"HR"},{".x_var_col":"Marketing",".stack_var_col":"5","n":22,"y":22,"name":"Marketing"},{".x_var_col":"Sales",".stack_var_col":"5","n":28,"y":28,"name":"Sales"}],"type":"bar"}],"xAxis":{"type":"category","title":{"text":""},"categories":["Engineering","Finance","HR","Marketing","Sales"]},"legend":{"title":{"text":null},"reversed":true},"tooltip":{"formatter":"function() {\n        var value = this.percentage.toFixed(1);\n        var categoryLabel = this.point.category || this.series.chart.xAxis[0].categories[this.point.x] || this.x;\n        return '<b>' + categoryLabel + '<\/b><br/>' +\n               this.series.name + ': ' + value + '<br/>' +\n               'Total: ' + 100;\n      }"},"colors":["#E74C3C","#E67E22","#F1C40F","#2ECC71","#27AE60"]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"â— Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":["hc_opts.tooltip.formatter"],"jsHooks":[]}</script>

---

# Stacked Bars (Multiple Questions)

### Perfect for Likert-scale surveys!


``` r
questions &lt;- c("q1_trust", "q2_value", "q3_recommend")
labels &lt;- c("I trust the company", "I feel valued", "I would recommend")

add_viz(
  type = "stackedbars",
* x_vars = questions,
* x_var_labels = labels,
  stacked_type = "percent",
  horizontal = TRUE,
  stack_breaks = c(0.5, 1.5, 2.5, 3.5, 4.5, 5.5),
  stack_bin_labels = c("SD", "D", "N", "A", "SA")
)
```

---

# Timeline


``` r
add_viz(
  type = "timeline",
* time_var = "year",
* y_var = "satisfaction",
* chart_type = "line",  # or "area", "stacked_area"
  title = "Satisfaction Over Time"
)
```

### With grouping (multiple lines):


``` r
add_viz(
  type = "timeline",
  time_var = "year",
  y_var = "satisfaction",
* group_var = "department",  # One line per department
  chart_type = "line"
)
```

---

# Timeline: Live Preview

<div class="highchart html-widget html-fill-item" id="htmlwidget-42016dd11247d83bac10" style="width:100%;height:380px;"></div>
<script type="application/json" data-for="htmlwidget-42016dd11247d83bac10">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"line"},"title":{"text":"Satisfaction Over Time by Department"},"yAxis":{"title":{"text":"Value"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"xAxis":{"title":{"text":"year"}},"series":[{"name":"Engineering","data":[[2018,3.888888888888889],[2019,3.909090909090909],[2020,4.166666666666667],[2021,3.470588235294118],[2022,3.25],[2023,4.235294117647059],[2024,3.133333333333333]],"type":"line"},{"name":"Finance","data":[[2018,3.444444444444445],[2019,3.576923076923077],[2020,4],[2021,4.176470588235294],[2022,3.615384615384615],[2023,3.75],[2024,3.705882352941177]],"type":"line"},{"name":"HR","data":[[2018,3.75],[2019,4.133333333333334],[2020,3.636363636363636],[2021,3.310344827586207],[2022,4.1875],[2023,3.285714285714286],[2024,3.5]],"type":"line"},{"name":"Marketing","data":[[2018,3.8],[2019,3.416666666666667],[2020,4],[2021,3.45],[2022,3.846153846153846],[2023,3.166666666666667],[2024,3.666666666666667]],"type":"line"},{"name":"Sales","data":[[2018,3.578947368421053],[2019,3.4],[2020,3.444444444444445],[2021,4.090909090909091],[2022,3.818181818181818],[2023,4.153846153846154],[2024,3.571428571428572]],"type":"line"}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"â— Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>

---

# Timeline: Response Filtering

### Show only "highly satisfied" responses


``` r
add_viz(
  type = "timeline",
  time_var = "year",
  y_var = "satisfaction",
* y_filter = c(4, 5),
* y_filter_combine = TRUE,
* y_filter_label = "High Satisfaction (4-5)"
)
```

.tip[
Track the percentage of "promoters" or "top-box" responses over time.
]

---

# Heatmap


``` r
add_viz(
  type = "heatmap",
* x_var = "department",
* y_var = "region",
* value_var = "satisfaction",
* agg_fun = mean  # mean, sum, median (function, not string!)
)
```

---

# Heatmap: Live Preview

<div class="highchart html-widget html-fill-item" id="htmlwidget-0fa0a670ba04bcf73db9" style="width:100%;height:380px;"></div>
<script type="application/json" data-for="htmlwidget-0fa0a670ba04bcf73db9">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"heatmap"},"title":{"text":"Avg Satisfaction: Department Ã— Region"},"yAxis":{"title":{"text":"region"},"categories":["East","North","South","West"]},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"subtitle":{"text":null},"xAxis":{"categories":["Engineering","Finance","HR","Marketing","Sales"],"title":{"text":"department"},"opposite":false},"colorAxis":{"min":3.346153846153846,"max":4.1,"stops":[[0,"#FFFFFF"],[1,"#7CB5EC"]],"title":{"text":"satisfaction"}},"series":[{"group":"group","data":[{".x_plot":"Engineering",".y_plot":"East",".value_plot":3.896551724137931,"x":0,"y":0,"value":3.896551724137931,"xf":"Engineering","yf":"East"},{".x_plot":"Engineering",".y_plot":"North",".value_plot":3.772727272727273,"x":0,"y":1,"value":3.772727272727273,"xf":"Engineering","yf":"North"},{".x_plot":"Engineering",".y_plot":"South",".value_plot":3.352941176470588,"x":0,"y":2,"value":3.352941176470588,"xf":"Engineering","yf":"South"},{".x_plot":"Engineering",".y_plot":"West",".value_plot":3.620689655172414,"x":0,"y":3,"value":3.620689655172414,"xf":"Engineering","yf":"West"},{".x_plot":"Finance",".y_plot":"East",".value_plot":3.346153846153846,"x":1,"y":0,"value":3.346153846153846,"xf":"Finance","yf":"East"},{".x_plot":"Finance",".y_plot":"North",".value_plot":3.689655172413793,"x":1,"y":1,"value":3.689655172413793,"xf":"Finance","yf":"North"},{".x_plot":"Finance",".y_plot":"South",".value_plot":3.933333333333333,"x":1,"y":2,"value":3.933333333333333,"xf":"Finance","yf":"South"},{".x_plot":"Finance",".y_plot":"West",".value_plot":4.1,"x":1,"y":3,"value":4.1,"xf":"Finance","yf":"West"},{".x_plot":"HR",".y_plot":"East",".value_plot":3.833333333333333,"x":2,"y":0,"value":3.833333333333333,"xf":"HR","yf":"East"},{".x_plot":"HR",".y_plot":"North",".value_plot":3.785714285714286,"x":2,"y":1,"value":3.785714285714286,"xf":"HR","yf":"North"},{".x_plot":"HR",".y_plot":"South",".value_plot":3.4,"x":2,"y":2,"value":3.4,"xf":"HR","yf":"South"},{".x_plot":"HR",".y_plot":"West",".value_plot":3.6,"x":2,"y":3,"value":3.6,"xf":"HR","yf":"West"},{".x_plot":"Marketing",".y_plot":"East",".value_plot":3.545454545454545,"x":3,"y":0,"value":3.545454545454545,"xf":"Marketing","yf":"East"},{".x_plot":"Marketing",".y_plot":"North",".value_plot":4.047619047619047,"x":3,"y":1,"value":4.047619047619047,"xf":"Marketing","yf":"North"},{".x_plot":"Marketing",".y_plot":"South",".value_plot":3.413793103448276,"x":3,"y":2,"value":3.413793103448276,"xf":"Marketing","yf":"South"},{".x_plot":"Marketing",".y_plot":"West",".value_plot":3.411764705882353,"x":3,"y":3,"value":3.411764705882353,"xf":"Marketing","yf":"West"},{".x_plot":"Sales",".y_plot":"East",".value_plot":3.6,"x":4,"y":0,"value":3.6,"xf":"Sales","yf":"East"},{".x_plot":"Sales",".y_plot":"North",".value_plot":3.9375,"x":4,"y":1,"value":3.9375,"xf":"Sales","yf":"North"},{".x_plot":"Sales",".y_plot":"South",".value_plot":3.576923076923077,"x":4,"y":2,"value":3.576923076923077,"xf":"Sales","yf":"South"},{".x_plot":"Sales",".y_plot":"West",".value_plot":3.521739130434783,"x":4,"y":3,"value":3.521739130434783,"xf":"Sales","yf":"West"}],"type":"heatmap","name":"satisfaction","plotOptions":{"heatmap":{"dataLabels":{"enabled":true,"format":"{point.value}","color":"#000000","style":{"textOutline":"none"}},"nullColor":"transparent"}}}],"tooltip":{"formatter":"function() {\n      // Access categories using this.series.xAxis.categories and this.series.yAxis.categories\n      // this.point.x and this.point.y are the numerical indices\n      var x_cat = this.series.xAxis.categories[this.point.x];\n      var y_cat = this.series.yAxis.categories[this.point.y];\n      var value = this.point.value;\n\n      var value_str = Highcharts.numberFormat(value, 0); // Format value (e.g., 0 decimals)\n      if (value === null) {\n          value_str = 'N/A'; // Display N/A for null values in tooltip\n      }\n\n      return '<b>' + '' + x_cat + '<\/b><br/>' + // Using x_tooltip_prefix here\n             '<b>' + '' + y_cat + '<\/b><br/>' + // Using y_tooltip_prefix here\n             '<b>satisfaction: <\/b>' + '' + value_str + '';\n    }","valueDecimals":0}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"â— Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":["hc_opts.tooltip.formatter"],"jsHooks":[]}</script>

---

# Treemap &amp; Scatter

.pull-left[
### Treemap

``` r
add_viz(
  type = "treemap",
* group_var = "department",
* value_var = "revenue",
  color_var = "growth"
)
```
]

.pull-right[
### Scatter

``` r
add_viz(
  type = "scatter",
  x_var = "age",
  y_var = "income",
* color_var = "department"
)
```
]

---

# Treemap: Live Preview

<div class="highchart html-widget html-fill-item" id="htmlwidget-27d9e099e661853822c4" style="width:100%;height:380px;"></div>
<script type="application/json" data-for="htmlwidget-27d9e099e661853822c4">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"treemap","height":500},"title":{"text":"Department Size & Satisfaction"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"data":[{"name":"Engineering","value":97,"colorValue":97},{"name":"Finance","value":105,"colorValue":105},{"name":"HR","value":108,"colorValue":108},{"name":"Marketing","value":89,"colorValue":89},{"name":"Sales","value":101,"colorValue":101}],"type":"treemap","layoutAlgorithm":"squarified","allowDrillToNode":false,"levelIsConstant":false,"levels":[{"level":1,"dataLabels":{"enabled":true,"style":{"fontSize":"14px","fontWeight":"bold"}},"borderWidth":2,"borderColor":"#FFFFFF"},{"level":2,"dataLabels":{"enabled":true,"style":{"fontSize":"11px"}},"borderWidth":1,"borderColor":"#FFFFFF"}]}],"tooltip":{"pointFormat":"<b>{point.name}<\/b>: {point.value:,.0f}"},"colorAxis":{"minColor":"#e8f4fc","maxColor":"#1a5276"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"â— Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>

---

# Scatter: Live Preview

<div class="highchart html-widget html-fill-item" id="htmlwidget-d09ad0fd8dbe94364b52" style="width:100%;height:380px;"></div>
<script type="application/json" data-for="htmlwidget-d09ad0fd8dbe94364b52">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"scatter","zoomType":"xy"},"title":{"text":"Age vs Income by Department"},"yAxis":{"title":{"text":"income"},"gridLineWidth":1},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"xAxis":{"title":{"text":"age"},"gridLineWidth":1},"series":[{"data":[{"x":63,"y":75583},{"x":40,"y":51038},{"x":72,"y":30584},{"x":21,"y":32420},{"x":15,"y":48328},{"x":39,"y":67100},{"x":29,"y":40895},{"x":52,"y":72556},{"x":43,"y":24490},{"x":36,"y":66754},{"x":51,"y":74345},{"x":47,"y":65819},{"x":53,"y":48779},{"x":41,"y":51853},{"x":49,"y":55052},{"x":65,"y":56071},{"x":43,"y":20254},{"x":24,"y":63126},{"x":63,"y":54743},{"x":25,"y":50029},{"x":58,"y":63446},{"x":40,"y":72278},{"x":44,"y":16653},{"x":44,"y":59904},{"x":20,"y":69949},{"x":35,"y":36734},{"x":29,"y":43530},{"x":35,"y":16437},{"x":36,"y":71625},{"x":38,"y":66276},{"x":44,"y":55055},{"x":38,"y":79000},{"x":22,"y":45499},{"x":45,"y":37447},{"x":23,"y":38876},{"x":51,"y":11144},{"x":69,"y":49181},{"x":60,"y":34983},{"x":25,"y":42291},{"x":26,"y":32671},{"x":32,"y":67598},{"x":43,"y":45255},{"x":50,"y":68278},{"x":38,"y":33527},{"x":56,"y":54921},{"x":35,"y":41853},{"x":38,"y":47473},{"x":62,"y":53008},{"x":73,"y":68023},{"x":42,"y":49489},{"x":43,"y":16004},{"x":43,"y":80895},{"x":41,"y":69883},{"x":54,"y":45009},{"x":2,"y":35845},{"x":44,"y":51231},{"x":49,"y":58580},{"x":63,"y":33914},{"x":79,"y":41794},{"x":46,"y":92328},{"x":43,"y":57282},{"x":18,"y":34334},{"x":42,"y":68776},{"x":49,"y":45942},{"x":44,"y":70226},{"x":69,"y":48620},{"x":42,"y":13344},{"x":53,"y":54738},{"x":35,"y":32739},{"x":17,"y":30076},{"x":38,"y":53183},{"x":66,"y":57896},{"x":43,"y":42188},{"x":61,"y":58396},{"x":78,"y":36998},{"x":39,"y":28954},{"x":51,"y":58735},{"x":37,"y":84188},{"x":43,"y":46321},{"x":42,"y":56618},{"x":52,"y":57203},{"x":31,"y":59324},{"x":37,"y":58753},{"x":31,"y":35850},{"x":43,"y":22714},{"x":43,"y":73883},{"x":49,"y":50034},{"x":35,"y":67165},{"x":64,"y":12280},{"x":50,"y":48167},{"x":44,"y":36711},{"x":62,"y":89120},{"x":47,"y":54638},{"x":20,"y":42461},{"x":53,"y":22308},{"x":40,"y":42932},{"x":60,"y":76197}],"type":null,"name":"Engineering","marker":{"radius":4,"fillOpacity":0.7}},{"data":[{"x":34,"y":73295},{"x":51,"y":57720},{"x":36,"y":73409},{"x":53,"y":32564},{"x":33,"y":79778},{"x":30,"y":70262},{"x":36,"y":56631},{"x":66,"y":51864},{"x":46,"y":61021},{"x":62,"y":14844},{"x":56,"y":43580},{"x":26,"y":41572},{"x":28,"y":15340},{"x":34,"y":50608},{"x":29,"y":53387},{"x":40,"y":29726},{"x":56,"y":51129},{"x":54,"y":54953},{"x":52,"y":75540},{"x":42,"y":17684},{"x":83,"y":74079},{"x":22,"y":62059},{"x":44,"y":59132},{"x":42,"y":37157},{"x":24,"y":62360},{"x":45,"y":49592},{"x":59,"y":78445},{"x":36,"y":22949},{"x":52,"y":60022},{"x":60,"y":32888},{"x":23,"y":24996},{"x":26,"y":80138},{"x":37,"y":69562},{"x":63,"y":60312},{"x":55,"y":64789},{"x":16,"y":51522},{"x":55,"y":67928},{"x":49,"y":30344},{"x":48,"y":78594},{"x":53,"y":43499},{"x":28,"y":27471},{"x":12,"y":60894},{"x":49,"y":69946},{"x":64,"y":47447},{"x":39,"y":42677},{"x":34,"y":47880},{"x":39,"y":83444},{"x":61,"y":40077},{"x":24,"y":62359},{"x":36,"y":69827},{"x":57,"y":89194},{"x":26,"y":22839},{"x":57,"y":54617},{"x":48,"y":53406},{"x":23,"y":61961},{"x":30,"y":57260},{"x":75,"y":53801},{"x":40,"y":55975},{"x":35,"y":33542},{"x":40,"y":9141},{"x":53,"y":69502},{"x":53,"y":50967},{"x":26,"y":75207},{"x":51,"y":10870},{"x":59,"y":37514},{"x":29,"y":56875},{"x":34,"y":34906},{"x":42,"y":69478},{"x":43,"y":75335},{"x":62,"y":69472},{"x":60,"y":48541},{"x":21,"y":73163},{"x":36,"y":42802},{"x":17,"y":51856},{"x":64,"y":57019},{"x":38,"y":38603},{"x":44,"y":74227},{"x":69,"y":37326},{"x":37,"y":59593},{"x":46,"y":51732},{"x":38,"y":80650},{"x":56,"y":109544},{"x":62,"y":73838},{"x":29,"y":50028},{"x":33,"y":98573},{"x":17,"y":80172},{"x":31,"y":65470},{"x":45,"y":58835},{"x":54,"y":84583},{"x":40,"y":71895},{"x":41,"y":58593},{"x":38,"y":74378},{"x":62,"y":24543},{"x":38,"y":50060},{"x":38,"y":77257},{"x":37,"y":65575},{"x":66,"y":71702},{"x":86,"y":80989},{"x":30,"y":76515},{"x":73,"y":58267},{"x":53,"y":16477},{"x":10,"y":38320},{"x":36,"y":65656},{"x":13,"y":47175},{"x":19,"y":124906}],"type":null,"name":"Finance","marker":{"radius":4,"fillOpacity":0.7}},{"data":[{"x":47,"y":54951},{"x":62,"y":77299},{"x":38,"y":20604},{"x":37,"y":86948},{"x":49,"y":62405},{"x":6,"y":82244},{"x":43,"y":33070},{"x":64,"y":42508},{"x":-3,"y":73214},{"x":46,"y":23409},{"x":45,"y":56793},{"x":31,"y":23626},{"x":58,"y":53532},{"x":51,"y":36374},{"x":54,"y":92547},{"x":39,"y":75969},{"x":35,"y":58039},{"x":52,"y":66970},{"x":63,"y":52476},{"x":29,"y":58207},{"x":36,"y":22540},{"x":36,"y":71773},{"x":34,"y":41908},{"x":20,"y":75022},{"x":44,"y":42469},{"x":26,"y":41760},{"x":40,"y":39453},{"x":60,"y":65271},{"x":41,"y":46012},{"x":26,"y":64246},{"x":19,"y":54161},{"x":35,"y":81067},{"x":42,"y":42860},{"x":39,"y":69363},{"x":67,"y":30646},{"x":40,"y":36671},{"x":20,"y":29964},{"x":52,"y":66899},{"x":46,"y":43144},{"x":18,"y":47868},{"x":47,"y":62855},{"x":21,"y":34833},{"x":44,"y":53832},{"x":40,"y":82458},{"x":23,"y":31637},{"x":37,"y":84330},{"x":26,"y":60229},{"x":48,"y":61667},{"x":42,"y":41914},{"x":21,"y":9937},{"x":57,"y":44343},{"x":27,"y":58294},{"x":36,"y":59099},{"x":14,"y":57320},{"x":58,"y":46374},{"x":43,"y":35623},{"x":36,"y":73162},{"x":62,"y":48652},{"x":60,"y":52905},{"x":33,"y":30335},{"x":52,"y":31001},{"x":43,"y":70317},{"x":55,"y":30856},{"x":57,"y":68265},{"x":41,"y":32434},{"x":23,"y":31402},{"x":58,"y":119224},{"x":43,"y":49809},{"x":21,"y":61976},{"x":22,"y":47942},{"x":53,"y":49888},{"x":54,"y":51103},{"x":38,"y":78761},{"x":18,"y":44805},{"x":35,"y":60582},{"x":37,"y":59039},{"x":40,"y":54740},{"x":70,"y":82301},{"x":47,"y":82929},{"x":32,"y":35532},{"x":63,"y":39457},{"x":52,"y":83097},{"x":47,"y":51166},{"x":49,"y":79013},{"x":43,"y":56930},{"x":13,"y":23844},{"x":9,"y":52512},{"x":55,"y":68291},{"x":34,"y":36075},{"x":34,"y":73275},{"x":11,"y":65059},{"x":24,"y":37485},{"x":47,"y":32738},{"x":63,"y":79820},{"x":29,"y":55070},{"x":47,"y":11337},{"x":38,"y":90906},{"x":53,"y":79183},{"x":26,"y":40477},{"x":41,"y":88671},{"x":42,"y":33718},{"x":35,"y":69393},{"x":39,"y":70214},{"x":20,"y":75198},{"x":33,"y":76102},{"x":24,"y":88692},{"x":44,"y":27663},{"x":42,"y":46336}],"type":null,"name":"HR","marker":{"radius":4,"fillOpacity":0.7}},{"data":[{"x":48,"y":40597},{"x":41,"y":35661},{"x":5,"y":85666},{"x":62,"y":54235},{"x":60,"y":59485},{"x":16,"y":42922},{"x":32,"y":16980},{"x":50,"y":49516},{"x":16,"y":58248},{"x":37,"y":48043},{"x":31,"y":87145},{"x":52,"y":82522},{"x":43,"y":70003},{"x":51,"y":75906},{"x":26,"y":74260},{"x":51,"y":25807},{"x":60,"y":50030},{"x":44,"y":86281},{"x":35,"y":99471},{"x":27,"y":62904},{"x":12,"y":64043},{"x":35,"y":66487},{"x":41,"y":71059},{"x":35,"y":-5359},{"x":41,"y":71896},{"x":34,"y":29206},{"x":44,"y":56070},{"x":51,"y":86222},{"x":27,"y":76535},{"x":43,"y":24767},{"x":55,"y":55448},{"x":33,"y":28436},{"x":50,"y":54375},{"x":58,"y":44843},{"x":44,"y":58343},{"x":31,"y":30803},{"x":73,"y":89591},{"x":41,"y":44259},{"x":48,"y":61573},{"x":32,"y":41062},{"x":46,"y":74423},{"x":31,"y":36669},{"x":61,"y":31638},{"x":53,"y":60793},{"x":27,"y":45670},{"x":45,"y":58495},{"x":61,"y":9444},{"x":26,"y":60810},{"x":31,"y":63446},{"x":39,"y":37697},{"x":43,"y":61536},{"x":48,"y":34400},{"x":47,"y":43238},{"x":10,"y":48592},{"x":32,"y":60191},{"x":49,"y":58231},{"x":30,"y":73621},{"x":43,"y":59348},{"x":40,"y":27686},{"x":31,"y":88420},{"x":33,"y":59470},{"x":36,"y":35908},{"x":45,"y":50281},{"x":44,"y":70521},{"x":57,"y":14785},{"x":41,"y":32436},{"x":30,"y":73895},{"x":52,"y":41623},{"x":51,"y":55996},{"x":59,"y":39720},{"x":53,"y":34349},{"x":30,"y":66147},{"x":29,"y":32732},{"x":29,"y":59391},{"x":25,"y":82258},{"x":26,"y":89467},{"x":34,"y":65103},{"x":58,"y":58409},{"x":27,"y":-4176},{"x":64,"y":59269},{"x":30,"y":77309},{"x":33,"y":60444},{"x":65,"y":41124},{"x":33,"y":63050},{"x":44,"y":28431},{"x":19,"y":42849},{"x":22,"y":81109},{"x":36,"y":31954},{"x":54,"y":73796},{"x":47,"y":37237},{"x":27,"y":63152},{"x":31,"y":83383},{"x":5,"y":89659},{"x":38,"y":66202},{"x":48,"y":-12435},{"x":38,"y":79905},{"x":46,"y":58628},{"x":34,"y":73312},{"x":50,"y":75970},{"x":41,"y":47591},{"x":55,"y":35269}],"type":null,"name":"Sales","marker":{"radius":4,"fillOpacity":0.7}},{"data":[{"x":65,"y":34416},{"x":41,"y":71724},{"x":76,"y":46741},{"x":38,"y":53241},{"x":40,"y":99838},{"x":52,"y":95826},{"x":2,"y":47862},{"x":70,"y":119581},{"x":38,"y":30869},{"x":49,"y":18912},{"x":58,"y":48041},{"x":30,"y":53708},{"x":45,"y":50431},{"x":53,"y":65643},{"x":21,"y":65276},{"x":48,"y":82647},{"x":47,"y":23775},{"x":30,"y":61495},{"x":52,"y":84856},{"x":63,"y":56576},{"x":46,"y":46302},{"x":39,"y":28071},{"x":25,"y":46327},{"x":20,"y":85748},{"x":43,"y":11595},{"x":27,"y":74753},{"x":70,"y":71711},{"x":32,"y":41790},{"x":45,"y":44768},{"x":34,"y":60468},{"x":17,"y":77616},{"x":36,"y":67616},{"x":33,"y":46346},{"x":51,"y":64310},{"x":42,"y":50386},{"x":64,"y":82854},{"x":42,"y":68288},{"x":59,"y":27908},{"x":30,"y":49155},{"x":61,"y":68882},{"x":39,"y":43016},{"x":49,"y":59214},{"x":42,"y":59887},{"x":29,"y":47839},{"x":37,"y":30742},{"x":46,"y":67266},{"x":48,"y":38981},{"x":73,"y":48485},{"x":39,"y":49550},{"x":24,"y":49823},{"x":38,"y":57831},{"x":28,"y":55270},{"x":61,"y":19379},{"x":24,"y":48186},{"x":55,"y":67092},{"x":51,"y":85947},{"x":54,"y":50433},{"x":17,"y":68507},{"x":41,"y":48821},{"x":23,"y":81173},{"x":41,"y":65021},{"x":30,"y":53629},{"x":35,"y":3924},{"x":42,"y":41733},{"x":30,"y":69848},{"x":41,"y":54964},{"x":36,"y":68359},{"x":30,"y":54737},{"x":25,"y":48144},{"x":46,"y":30446},{"x":35,"y":63424},{"x":38,"y":72604},{"x":26,"y":62406},{"x":49,"y":93181},{"x":39,"y":107470},{"x":63,"y":56523},{"x":49,"y":50587},{"x":38,"y":34330},{"x":20,"y":42765},{"x":72,"y":61954},{"x":55,"y":16832},{"x":56,"y":30244},{"x":33,"y":66114},{"x":45,"y":31643},{"x":20,"y":22728},{"x":52,"y":66996},{"x":44,"y":93690},{"x":39,"y":70276},{"x":52,"y":66659}],"type":null,"name":"Marketing","marker":{"radius":4,"fillOpacity":0.7}}],"colors":["#6366f1","#ec4899","#10b981","#f59e0b","#3b82f6"],"tooltip":{"useHTML":true,"headerFormat":"","pointFormat":"<b>age:<\/b> {point.x}<br/><b>income:<\/b> {point.y}<br/><b>department:<\/b> {series.name}"},"legend":{"enabled":true}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"â— Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>

---

# Map Visualization


``` r
add_viz(
  type = "map",
* location_var = "country",       # Country/region names
* value_var = "avg_satisfaction", # Numeric value to display
  title = "Satisfaction by Country",
  map_type = "world",             # "world", "usa", "europe", etc.
  color_palette = c("#f7fbff", "#08306b")  # Low to high gradient
)
```

.tip[
Maps require geographic names (countries, states) or ISO codes in `location_var`.
]

---

class: inverse, center, middle

# Content System
## Beyond Just Charts

---

# The Unified Content System

### Mix visualizations with text, callouts, and more!


``` r
content &lt;- create_content() %&gt;%
  add_text("# Analysis Results") %&gt;%
  add_callout("Sample: n=1000", type = "note") %&gt;%
  add_viz(type = "histogram", x_var = "age") %&gt;%
  add_accordion("Methodology", text = "Click to expand...")
```

.note[
`create_content()` and `create_viz()` are **aliases** - use whichever name fits!
]

---

# Content Types

| Function | Purpose |
|----------|---------|
| `add_viz()` | Visualization |
| `add_text()` | Markdown text |
| `add_callout()` | Note/tip/warning box |
| `add_image()` | Image |
| `add_accordion()` | Collapsible section |
| `add_card()` | Card container |
| `add_value_box()` | KPI metric |
| `add_spacer()` | Vertical space |
| `add_divider()` | Horizontal line |
| `add_code()` | Code block |

---

# add_text() and md_text()


``` r
add_page(
  "Home",
  text = md_text(
    "# Welcome!",
    "",                    # Blank line = paragraph break
    "This is **bold** and *italic*.",
    "",
    "## Subheading",
    "",
    "- Bullet 1",
    "- Bullet 2"
  )
)
```

.tip[
Each argument to `md_text()` becomes one line.
]

---

# add_callout()


``` r
add_callout(
  text = "Important information here.",
* type = "warning",  # note, tip, warning, caution, important
  title = "Custom Title"
)
```

| Type | Color | Use |
|------|-------|-----|
| `note` | Blue | General info |
| `tip` | Green | Helpful suggestions |
| `warning` | Orange | Cautions |
| `important` | Purple | Key points |

---

# add_value_box()


``` r
content &lt;- create_content() %&gt;%
* add_value_box_row() %&gt;%
    add_value_box(
      title = "Responses",
      value = "1,234",
      logo_text = "ğŸ“Š",
      bg_color = "#3498DB"
    ) %&gt;%
    add_value_box(
      title = "Satisfaction",
      value = "4.2/5",
      logo_text = "â­",
      bg_color = "#27AE60"
    ) %&gt;%
* end_value_box_row()
```

---

class: inverse, center, middle

# Interactive Inputs
## Adding User Controls

---

# Interactive Filtering


``` r
content &lt;- create_content() %&gt;%
* add_input_row(style = "boxed") %&gt;%
    add_input(
      input_id = "region_filter",
      label = "Select Regions",
      type = "select_multiple",
*     filter_var = "region",       # Column to filter
      options = c("North", "South", "East", "West")
    ) %&gt;%
* end_input_row() %&gt;%
  add_viz(
    type = "timeline",
    time_var = "year",
    y_var = "value",
*   group_var = "region"           # Must match filter_var!
  )
```

---

# Input Types

| Type | Description |
|------|-------------|
| `select_multiple` | Multi-select dropdown |
| `select_single` | Single dropdown |
| `checkbox` | Checkbox group |
| `radio` | Radio buttons |
| `switch` | Toggle switch |
| `slider` | Range slider |
| `text` | Text input |
| `button_group` | Segmented buttons |

---

# Switch: Toggle Series


``` r
add_input(
  input_id = "show_average",
  label = "Show Average Line",
  type = "switch",
  filter_var = "group",
* toggle_series = "Average",  # Series name to toggle
* override = TRUE,            # Exempt from other filters
  value = TRUE                # Start ON
)
```

.tip[
Use `override = TRUE` to keep a benchmark line always visible when the switch is ON.
]

---

# Slider with Custom Labels


``` r
add_input(
  input_id = "decade_slider",
  label = "Select Decade",
  type = "slider",
  filter_var = "decade_num",
  min = 1, max = 6, step = 1, value = 1,
* labels = c("1970s", "1980s", "1990s", "2000s", "2010s", "2020s")
)
```

---

class: inverse, center, middle

# Step 2: Assembling the Dashboard

---

# create_dashboard()


``` r
dashboard &lt;- create_dashboard(
* title = "Survey Dashboard",
* output_dir = "my_dashboard",
  
  # Styling
  theme = "flatly",
  tabset_theme = "modern",
  
  # Features
  search = TRUE,
  breadcrumbs = TRUE,
  back_to_top = TRUE
)
```

---

# add_page()


``` r
dashboard &lt;- dashboard %&gt;%
  add_page(
    name = "Home",
    text = md_text("# Welcome!"),
    icon = "ph:house-fill",
*   is_landing_page = TRUE
  ) %&gt;%
  add_page(
    name = "Analysis",
*   data = survey_data,
*   visualizations = my_viz,
    icon = "ph:chart-bar-fill"
  ) %&gt;%
  add_page(
    name = "About",
    icon = "ph:info-fill",
*   navbar_align = "right"
  )
```

---

# Print the Dashboard


``` r
dashboard &lt;- create_dashboard(title = "Test", output_dir = "test") %&gt;%
  add_page("Home", text = md_text("# Welcome"), is_landing_page = TRUE) %&gt;%
  add_page("Analysis", icon = "ph:chart-bar-fill")

print(dashboard)
```

```
#&gt; 
#&gt; ğŸ“Š DASHBOARD PROJECT ====================================================
#&gt; â”‚ ğŸ·ï¸  Title: Test
#&gt; â”‚ ğŸ“ Output: /Users/favstats/Dropbox/besides/dimes-r-for-research/test
#&gt; â”‚
#&gt; â”‚ âš™ï¸  FEATURES:
#&gt; â”‚    â€¢ ğŸ” Search
#&gt; â”‚    â€¢ ğŸ“‘ Tabs: minimal
#&gt; â”‚
#&gt; â”‚ ğŸ“„ PAGES (2):
#&gt; â”‚ â”œâ”€ ğŸ“„ Home [ğŸ  Landing]
#&gt; â”‚ â””â”€ ğŸ“„ Analysis [ğŸ·ï¸ Icon]
#&gt; â•â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

# Dashboard Output

.output-box[
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•‘ ğŸ¨ DASHBOARD PROJECT
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•‘ ğŸ“ Title: Test
â•‘ ğŸ“ Output: /path/to/test
â•‘
â•‘ âš™ï¸  FEATURES:
â•‘    â€¢ ğŸ” Search
â•‘    â€¢ ğŸ—‚ï¸  Tabs: default
â•‘
â•‘ ğŸ“„ PAGES (2):
â•‘ â”œâ”€ ğŸ“„ Home [ğŸ  Landing]
â•‘ â””â”€ ğŸ“„ Analysis [ğŸ¯ Icon]
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
]

---

# Page Performance Options


``` r
add_page(
  name = "Heavy Analysis",
  data = large_data,
  visualizations = complex_viz,
  
  # Loading animation
* overlay = TRUE,
* overlay_theme = "glass",
* overlay_duration = 1.5,
  
  # Lazy loading
* lazy_load_charts = TRUE,
* lazy_load_tabs = TRUE
)
```

---

# Icons Everywhere!

### Format: `"set:icon-name"`

| Set | Examples |
|-----|----------|
| Phosphor (`ph:`) | `ph:house-fill`, `ph:chart-bar-fill` |
| Bootstrap (`bi:`) | `bi:graph-up`, `bi:people-fill` |
| Font Awesome (`fa:`) | `fa:chart-bar`, `fa:users` |


``` r
# In pages
add_page("Home", icon = "ph:house-fill")

# In text
md_text("## Features {{&lt; iconify ph:sparkle-fill &gt;}}")

# In tab labels
set_tabgroup_labels(list(
  overview = "{{&lt; iconify ph:chart-bar-fill &gt;}} Overview"
))
```

---

class: inverse, center, middle

# Themes &amp; Styling

---

# Two Types of Themes

| Level | What | Parameter |
|-------|------|-----------|
| **Bootswatch** | Overall look | `theme = "flatly"` |
| **Tabset** | Tab styling | `tabset_theme = "modern"` |


``` r
create_dashboard(
  title = "Dashboard",
  output_dir = "output",
* theme = "flatly",
* tabset_theme = "modern"
)
```

---

# Built-in Theme Functions


``` r
dashboard %&gt;%
* apply_theme(theme_modern())
```

| Function | Style |
|----------|-------|
| `theme_modern()` | Tech/startup |
| `theme_academic()` | Research |
| `theme_clean()` | Minimal |
| `theme_ascor()` | UvA branding |

### Variants:

``` r
apply_theme(theme_modern("purple"))
apply_theme(theme_modern("green"))
apply_theme(theme_academic(accent_color = "#8B0000"))
```

---

# Theme Customization


``` r
apply_theme(
  theme_modern("purple"),
  
* mainfont = "Inter",
* fontsize = "18px",
* navbar_bg_color = "#8B0000",
* max_width = "1400px"
)
```

.tip[
Override any parameter: `navbar_bg_color`, `navbar_text_color`, `fontcolor`, `linkcolor`, `backgroundcolor`, `margin_left/right/top/bottom`
]

---

class: inverse, center, middle

# Step 3: Generating &amp; Publishing

---

# generate_dashboard()


``` r
# Fast (development): files only
generate_dashboard(dashboard, render = FALSE)

# Full: files + HTML
generate_dashboard(dashboard, render = TRUE)

# Full + open browser
generate_dashboard(dashboard, render = TRUE, open = "browser")
```

.output-box[
Dashboard project initialized at: my_dashboard
Generating page: Home
Generating page: Analysis
Rendering dashboard...
âœ“ Dashboard generated successfully!
]

---

# Publishing to GitHub Pages


``` r
# First time
publish_dashboard(message = "Initial commit")

# Updates
generate_dashboard(dashboard, render = TRUE)
update_dashboard(message = "Added new charts")
```

.output-box[
Your dashboard URL:
https://USERNAME.github.io/REPO-NAME/
]

---

class: inverse, center, middle

# Best Practices

---

# Tip #1: Always Print!


``` r
print(viz)        # See visualization structure
print(dashboard)  # See dashboard structure
```

.key-point[
`print()` is your **debugging superpower**!
]

---

# Tip #2: Smart Defaults (DRY)

.pull-left[
.compare-bad[
```r
viz &lt;- create_viz() %&gt;%
  add_viz(
    x_var = "q1",
    color_palette = c("#3498DB"),
    bins = 20
  ) %&gt;%
  add_viz(
    x_var = "q2",
    color_palette = c("#3498DB"),
    bins = 20
  )
```
]
]

.pull-right[
.compare-good[
```r
viz &lt;- create_viz(
* color_palette = c("#3498DB"),
* bins = 20
) %&gt;%
  add_viz(x_var = "q1") %&gt;%
  add_viz(x_var = "q2")
```
]
]

---

# Tip #3: Test Without Rendering


``` r
# Fast iteration
generate_dashboard(dashboard, render = FALSE)

# Only render when ready
generate_dashboard(dashboard, render = TRUE)
```

.tip[
Rendering can take 30+ seconds for large dashboards!
]

---

# Common Mistakes

| Problem | Fix |
|---------|-----|
| Variable not found | Check `names(data)` |
| Filter not working | Use `~ condition` |
| Wrong bin label count | `len(labels) = len(breaks) - 1` |
| Tabs wrong order | Reorder `add_viz()` calls |

---

# Complete Example


``` r
library(dashboardr)

# 1. Visualizations
viz &lt;- create_viz(type = "histogram", color_palette = c("#3498DB")) %&gt;%
  add_viz(x_var = "age", tabgroup = "demo", title = "Age") %&gt;%
  set_tabgroup_labels(list(demo = "{{&lt; iconify ph:users-fill &gt;}} Demographics"))

# 2. Dashboard
dashboard &lt;- create_dashboard(
  title = "Survey Dashboard",
  output_dir = "survey"
) %&gt;%
  apply_theme(theme_modern()) %&gt;%
  add_page("Home", text = md_text("# Welcome!"), is_landing_page = TRUE) %&gt;%
  add_page("Analysis", data = survey_data, visualizations = viz)

# 3. Generate
generate_dashboard(dashboard, render = TRUE, open = "browser")
```

---

# Resources

.pull-left[
### Documentation
- Package: https://favstats.github.io/dashboardr/
- `?create_dashboard`
- `vignette(package = "dashboardr")`
]

.pull-right[
### Tools
- Icons: https://icon-sets.iconify.design/
- Themes: https://bootswatch.com/
- Colors: https://colorbrewer2.org/
]

---

class: inverse, center, middle

# Quick Reference

---

# Core Pattern

.diagram[
viz &lt;- create_viz(type = "___", ...) %&gt;%
  add_viz(x_var = "___", tabgroup = "___")

dashboard &lt;- create_dashboard(title = "___", output_dir = "___") %&gt;%
  apply_theme(theme_modern()) %&gt;%
  add_page("___", data = ___, visualizations = ___)

generate_dashboard(dashboard, render = TRUE, open = "browser")
]

---

# Visualization Types

```
type = "histogram"    # Distributions
type = "bar"          # Categories  
type = "stackedbar"   # Composition
type = "stackedbars"  # Multiple Likert
type = "timeline"     # Over time
type = "heatmap"      # 2D patterns
type = "treemap"      # Hierarchies
type = "scatter"      # Relationships
type = "map"          # Geographic
```

---

# Common Parameters

```
tabgroup = "section/subsection"
filter = ~ column == "value"
color_palette = c("#color1", "#color2")
horizontal = TRUE/FALSE
drop_na_vars = TRUE
weight_var = "weights"
```

---

class: inverse, center, middle

# That's Day 1!

## Great job getting started!

### See you in Day 2 for advanced features!

![](https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif)

---

class: inverse, center, middle

# Thank You!

## Now go build something amazing!

### Remember: `print()` is your friend!

&lt;br&gt;

.fivty[
Day 2 covers: Advanced inputs, deep theming, publishing, pagination, and more!
]

---

# Bonus: Full Content Reference

| Function | Purpose |
|----------|---------|
| `add_viz()` | Chart |
| `add_text()` | Markdown |
| `add_callout()` | Note/tip |
| `add_image()` | Image |
| `add_accordion()` | Collapsible |
| `add_card()` | Card |
| `add_value_box()` | KPI |
| `add_input()` | Filter |
| `add_spacer()` | Space |
| `add_divider()` | Line |
| `add_table()` | Table |
| `add_gt()` | GT table |
| `add_DT()` | DataTable |

---

# Bonus: Input Types Reference

| Type | Use |
|------|-----|
| `select_multiple` | Multi-select dropdown |
| `select_single` | Single dropdown |
| `checkbox` | Toggle multiple |
| `radio` | Single choice |
| `switch` | On/off toggle |
| `slider` | Range |
| `text` | Search |
| `button_group` | Segmented |

---

class: inverse, center, middle

# Bonus Slides
## Extended Content

---

# Multi-Dataset Pages

### Use multiple datasets on one page


``` r
dashboard %&gt;%
  add_page(
    name = "Multi Analysis",
*   data = list(
*     sales = sales_data,
*     customers = customer_data,
*     products = product_data
*   ),
    visualizations = viz
  )
```

Reference in viz:

``` r
add_viz(x_var = "revenue", data_name = "sales")
```

---

# Pagination: Page Breaks


``` r
combined &lt;- demographics_viz %&gt;%
  combine_viz(satisfaction_viz) %&gt;%
* add_pagination() %&gt;%        # Break here!
  combine_viz(trends_viz) %&gt;%
* add_pagination() %&gt;%        # Another break!
  combine_viz(summary_viz)
```

.tip[
Use when you have too many charts for one scrollable page.
]

---

# Navbar Dropdown Menus


``` r
reports_menu &lt;- navbar_menu(
  text = "Reports",
  pages = c("Monthly", "Quarterly", "Annual"),
  icon = "ph:file-text"
)

dashboard &lt;- create_dashboard(
  title = "Dashboard",
  output_dir = "output",
* navbar_sections = list(reports_menu)
) %&gt;%
  add_page("Monthly", data = data, visualizations = viz1) %&gt;%
  add_page("Quarterly", data = data, visualizations = viz2)
```

---

# Dashboard Metadata


``` r
create_dashboard(
  title = "Survey Dashboard",
  output_dir = "output",
  
  # Metadata
* author = "Research Team",
* description = "Annual survey results",
* date = "2024-01-15",
* page_footer = "Â© 2024 Organization"
)
```

---

# Social Links


``` r
create_dashboard(
  title = "Dashboard",
  output_dir = "output",
  
* github = "https://github.com/user/project",
* twitter = "https://twitter.com/user",
* linkedin = "https://linkedin.com/in/user",
* email = "contact@example.com",
* website = "https://example.com"
)
```

---

# Analytics


``` r
create_dashboard(
  title = "Dashboard",
  output_dir = "output",
  
* plausible = "yourdomain.com"  # Privacy-friendly analytics
)
```

---

# Bootswatch Themes

### 25+ professional Bootstrap themes

.pull-left[
**Light:**
- `flatly` - Clean, modern
- `cosmo` - Bright
- `minty` - Fresh green
- `yeti` - Minimal
- `united` - Corporate
]

.pull-right[
**Dark:**
- `darkly` - Full dark
- `slate` - Dark gray
- `cyborg` - High contrast
- `vapor` - Cyberpunk
]

Browse: https://bootswatch.com/

---

# Tabset Themes


``` r
tabset_theme = "modern"     # Clean shadows
tabset_theme = "minimal"    # Simple
tabset_theme = "pills"      # Rounded
tabset_theme = "classic"    # Traditional
tabset_theme = "underline"  # Bottom line
tabset_theme = "segmented"  # iOS-style
```

---

# Custom Tab Colors


``` r
create_dashboard(
  ...,
  tabset_theme = "modern",
* tabset_colors = list(
*   active_bg = "#3498DB",
*   active_text = "#FFFFFF",
*   inactive_bg = "#ECF0F1",
*   inactive_text = "#7F8C8D",
*   hover_bg = "#BDC3C7"
* )
)
```

---

# Color Palettes for Visualizations


``` r
viz &lt;- create_viz(
  type = "stackedbar",
* color_palette = c(
*   "#E74C3C",  # Red
*   "#E67E22",  # Orange
*   "#F1C40F",  # Yellow
*   "#2ECC71",  # Green
*   "#27AE60"   # Dark green
* )
)
```

.tip[
Use https://colorbrewer2.org/ for accessible palettes!
]

---

# add_image()


``` r
content &lt;- create_content() %&gt;%
  add_image(
*   src = "images/chart.png",
*   alt = "Chart description",
    caption = "Figure 1: Results",
    width = "80%",
    align = "center"
  )
```

From URL:

``` r
add_image(
  src = "https://example.com/logo.png",
  alt = "Logo",
  width = "200px"
)
```

---

# add_accordion()

### Collapsible sections


``` r
content &lt;- create_content() %&gt;%
  add_accordion(
    title = "Methodology",
    text = md_text(
      "## Data Collection",
      "",
      "We surveyed 1,000 respondents..."
    ),
*   open = FALSE  # Starts collapsed
  )
```

---

# add_card()


``` r
content &lt;- create_content() %&gt;%
  add_card(
    title = "Key Insight",
    text = md_text(
      "Satisfaction increased **15%**",
      "compared to last year."
    ),
    footer = "Source: Annual Survey 2024"
  )
```

---

# Input Row Styling


``` r
# Boxed style (with background)
add_input_row(style = "boxed", align = "center") %&gt;%
  add_input(...) %&gt;%
  add_input(...) %&gt;%
end_input_row()

# Inline style (compact)
add_input_row(style = "inline", align = "left") %&gt;%
  add_input(...) %&gt;%
end_input_row()
```

---

# Input Margins


``` r
add_input(
  input_id = "filter1",
  type = "select_multiple",
  filter_var = "region",
  options = c("North", "South"),
  
  # Margins
* mt = "10px",   # margin-top
* mr = "20px",   # margin-right
* mb = "10px",   # margin-bottom
* ml = "10px"    # margin-left
)
```

---

# Input: Grouped Options


``` r
add_input(
  input_id = "country_filter",
  type = "select_multiple",
  filter_var = "country",
* options = list(
*   "Europe" = c("Germany", "France", "UK"),
*   "Asia" = c("China", "Japan", "Korea"),
*   "Americas" = c("USA", "Canada", "Mexico")
* )
)
```

---

# One-Time Publishing Setup


``` r
# 1. Install packages
install.packages(c("usethis", "gert"))

# 2. Configure Git
usethis::use_git_config(
  user.name = "Your Name",
  user.email = "you@example.com"
)

# 3. Create GitHub token
usethis::create_github_token()
# Copy the token!

# 4. Store token
gitcreds::gitcreds_set()
# Paste when prompted
```

.note[
This only needs to be done **once** per computer!
]

---

# Update Published Dashboard


``` r
# 1. Make changes
# 2. Regenerate
generate_dashboard(dashboard, render = TRUE)

# 3. Push updates
update_dashboard(message = "Added new charts")
```

.output-box[
âœ“ Changes pushed successfully!
Your dashboard: https://username.github.io/repo-name/
]

---

# Debugging: Check Variable Names


``` r
# Check what columns exist
names(my_data)

# Check for NA values
summary(my_data$age)
table(is.na(my_data$age))
```

---

# Debugging: Check Data Types


``` r
# Numeric or factor?
class(my_data$satisfaction)

# What values exist?
unique(my_data$department)
```

---

# Dropping NA Values


``` r
# At collection level
viz &lt;- create_viz(
  type = "histogram",
* drop_na_vars = TRUE
)

# Or per visualization
add_viz(
  x_var = "age",
* drop_na_vars = TRUE
)
```

---

# Including NA as Category


``` r
add_viz(
  x_var = "education",
* include_na = TRUE,
* na_label = "Not Reported"
)
```

---

# Modular Organization


``` r
# Create separate modules
demographics &lt;- create_viz(type = "histogram") %&gt;%
  add_viz(x_var = "age", tabgroup = "demo")

satisfaction &lt;- create_viz(type = "stackedbar") %&gt;%
  add_viz(x_var = "dept", stack_var = "rating", tabgroup = "sat")

trends &lt;- create_viz(type = "timeline") %&gt;%
  add_viz(time_var = "year", y_var = "score", tabgroup = "trends")

# Combine
all_viz &lt;- demographics + satisfaction + add_pagination() + trends
```

---

# Axis Labels


``` r
add_viz(
  type = "histogram",
  x_var = "age",
* x_label = "Age (years)",
* y_label = "Number of Respondents",
  title = "Age Distribution",
  subtitle = "All survey respondents"
)
```

---

# Tooltip Customization


``` r
add_viz(
  type = "histogram",
  x_var = "income",
* tooltip_prefix = "$",
* tooltip_suffix = "K",
* x_tooltip_suffix = " dollars"
)
```

---

# Value Mapping


``` r
education_map &lt;- list(
  "1" = "High School",
  "2" = "Bachelor's",
  "3" = "Master's",
  "4" = "PhD"
)

add_viz(
  type = "bar",
  x_var = "education",
* x_map_values = education_map
)
```

---

# X-Axis Order


``` r
add_viz(
  type = "bar",
  x_var = "satisfaction",
* x_order = c("Very Low", "Low", "Medium", "High", "Very High")
)
```

---

# Text Annotations on Charts


``` r
add_viz(
  type = "histogram",
  x_var = "age",
  title = "Age Distribution",
  
* text = md_text(
*   "This chart shows the age distribution.",
*   "Note the peak in the 30-40 range."
* ),
* text_position = "above"  # or "below"
)
```

---

# Timeline: Response Binning


``` r
add_viz(
  type = "timeline",
  time_var = "year",
  y_var = "satisfaction",
  chart_type = "stacked_area",
  
* y_breaks = c(0.5, 2.5, 4.5, 5.5),
* y_bin_labels = c("Low (1-2)", "Medium (3-4)", "High (5)")
)
```

---

# Timeline: Time Binning


``` r
add_viz(
  type = "timeline",
  time_var = "year",
  y_var = "satisfaction",
  chart_type = "stacked_area",
  
* time_breaks = c(1970, 1980, 1990, 2000, 2010, 2020),
* time_bin_labels = c("1970s", "1980s", "1990s", "2000s", "2010s")
)
```

---

# Response Levels Order


``` r
add_viz(
  type = "timeline",
  time_var = "year",
  y_var = "health",
  chart_type = "stacked_area",
  
* y_levels = c("poor", "fair", "good", "excellent")
)
```

---

# Tables: add_gt()


``` r
library(gt)

my_table &lt;- gt(summary_data) %&gt;%
  tab_header(title = "Summary Statistics") %&gt;%
  fmt_number(columns = everything(), decimals = 1)

content &lt;- create_content() %&gt;%
* add_gt(my_table)
```

---

# Tables: add_DT()


``` r
content &lt;- create_content() %&gt;%
* add_DT(
    my_data,
    options = list(pageLength = 10, scrollX = TRUE)
  )
```

.tip[
DT tables are interactive with search and pagination!
]

---

# add_video() &amp; add_iframe()


``` r
content &lt;- create_content() %&gt;%
  add_video(
    src = "https://example.com/video.mp4",
    width = "100%",
    height = "400px"
  ) %&gt;%
  add_iframe(
    src = "https://example.com/embed",
    height = "500px"
  )
```

---

# add_code()


``` r
content &lt;- create_content() %&gt;%
  add_code(
    code = "library(dashboardr)\ncreate_dashboard(...)",
*   language = "r",
    caption = "Example code"
  )
```

---

# add_quote()


``` r
content &lt;- create_content() %&gt;%
  add_quote(
    quote = "Data is the new oil.",
    attribution = "Clive Humby",
    cite = "https://example.com/source"
  )
```

---

# add_badge()


``` r
content &lt;- create_content() %&gt;%
  add_text("Status: ") %&gt;%
  add_badge(text = "Complete", color = "success") %&gt;%
  add_badge(text = "In Progress", color = "warning") %&gt;%
  add_badge(text = "Blocked", color = "danger")
```

---

# add_metric()


``` r
content &lt;- create_content() %&gt;%
  add_metric(
    value = "1,234",
    title = "Total Users",
    icon = "ph:users-fill",
    color = "blue",
    subtitle = "+12% from last month"
  )
```

---

# Preview Visualizations


``` r
# Create content with inline data
content &lt;- create_content(data = mtcars) %&gt;%
  add_viz(type = "histogram", x_var = "mpg", title = "MPG") %&gt;%
  add_viz(type = "bar", x_var = "cyl", title = "Cylinders")

# Preview a specific visualization!
*preview(content, index = 1)  # Shows MPG histogram
*preview(content, index = 2)  # Shows Cylinders bar
```

---

# Powered By Footer


``` r
dashboard &lt;- create_dashboard(...) %&gt;%
  add_page(...) %&gt;%
* add_powered_by_dashboardr(size = "small")
```

Options: `"small"`, `"medium"`, `"large"`

---

# Full Example: Landing Page


``` r
add_page(
  "Home",
  icon = "ph:house-fill",
  is_landing_page = TRUE,
  text = md_text(
    "# Employee Survey Results {{&lt; iconify ph:sparkle-fill &gt;}}",
    "",
    "Welcome to the **2024 Survey** dashboard.",
    "",
    "## Highlights",
    "",
    "- {{&lt; iconify ph:users-fill &gt;}} **500 respondents**",
    "- {{&lt; iconify ph:chart-line-fill &gt;}} **85% response rate**",
    "- {{&lt; iconify ph:heart-fill &gt;}} **4.2/5 satisfaction**",
    "",
    "[View Analysis â†’](analysis.html)"
  )
)
```

---

# Full Example: Analysis Page


``` r
add_page(
  "Analysis",
  icon = "ph:chart-bar-fill",
  data = survey_data,
  visualizations = all_viz,
  
  # Loading
  overlay = TRUE,
  overlay_theme = "glass",
  overlay_duration = 1,
  
  # Performance
  lazy_load_charts = TRUE,
  lazy_load_tabs = TRUE,
  
  # Intro text
  text = md_text(
    "## Survey Analysis",
    "",
    "Explore the results below."
  )
)
```

---

# Full Example: Complete Dashboard


``` r
library(dashboardr)
library(dplyr)

# Data
survey &lt;- data.frame(
  age = sample(18:80, 500, TRUE),
  department = sample(c("Sales", "Engineering", "Marketing"), 500, TRUE),
  satisfaction = sample(1:5, 500, TRUE)
)

# Viz
viz &lt;- create_viz(type = "histogram", color_palette = c("#3498DB")) %&gt;%
  add_viz(x_var = "age", tabgroup = "demo", title = "Age") %&gt;%
  set_tabgroup_labels(list(demo = "{{&lt; iconify ph:users-fill &gt;}} Demographics"))

# Dashboard
dashboard &lt;- create_dashboard(
  title = "Survey Dashboard", output_dir = "survey"
) %&gt;%
  apply_theme(theme_modern()) %&gt;%
  add_page("Home", text = md_text("# Welcome!"), is_landing_page = TRUE) %&gt;%
  add_page("Analysis", data = survey, visualizations = viz)

# Generate
generate_dashboard(dashboard, render = TRUE, open = "browser")
```

---

# Icon Reference

.pull-left[
**Phosphor (`ph:`):**
- `ph:house-fill` - Home
- `ph:chart-bar-fill` - Bar chart
- `ph:chart-line` - Line chart
- `ph:users-fill` - Users
- `ph:heart-fill` - Heart
- `ph:gear-fill` - Settings
- `ph:info-fill` - Info
- `ph:sparkle-fill` - Sparkle
]

.pull-right[
**Bootstrap (`bi:`):**
- `bi:house-fill` - Home
- `bi:graph-up` - Graph
- `bi:people-fill` - People
- `bi:gear-fill` - Gear

**Font Awesome (`fa:`):**
- `fa:chart-bar` - Chart
- `fa:users` - Users
]

Browse all: https://icon-sets.iconify.design/

---

# Theme Parameters Reference

```
navbar_bg_color      # Navbar background
navbar_text_color    # Navbar text
navbar_text_hover_color
mainfont            # Main font family
fontsize            # Base font size
fontcolor           # Body text color
linkcolor           # Link color
monofont            # Code font
monobackgroundcolor # Code background
linestretch         # Line height
backgroundcolor     # Page background
max_width           # Content max width
margin_left/right/top/bottom
```

---

# Input Parameters Reference

```
input_id        # Unique ID (required)
label           # Display label
type            # Input type (required)
filter_var      # Column to filter (required)
options         # Choices
default_selected
placeholder
width           # CSS width
size            # sm, md, lg
help            # Help text below
disabled        # TRUE/FALSE
```

---

# add_viz() Parameters Reference

```
type            # Visualization type
x_var           # X variable
y_var           # Y variable (scatter, heatmap, timeline)
group_var       # Grouping variable
stack_var       # Stack variable
weight_var      # Survey weights

title           # Chart title
subtitle        # Chart subtitle
x_label/y_label # Axis labels

tabgroup        # Tab organization
title_tabset    # Tab label
filter          # Data filter (formula)

color_palette   # Colors
horizontal      # TRUE/FALSE
drop_na_vars    # Remove NA rows
```

---

# Timeline-Specific Parameters

```
time_var          # Time/date column
y_var             # Response variable
chart_type        # "line", "stacked_area"

# Response filtering
y_filter          # Which values to show (e.g., 5:7)
y_filter_combine  # Combine into single line?
y_filter_label    # Custom legend label

# Response binning
y_breaks          # Bin boundaries
y_bin_labels      # Labels for bins
y_levels          # Order of categories

# Time binning
time_breaks       # Time period boundaries
time_bin_labels   # Labels for periods
```

---

class: inverse, center, middle

# Happy Dashboarding! ğŸ“Š

### Questions?

### https://github.com/favstats/dashboardr
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
  "highlightStyle": "github",
  "highlightLines": true,
  "countIncrementalSlides": false,
  "ratio": "16:9",
  "slideNumberFormat": "%current%<br>"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
